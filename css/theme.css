/**
 * @file
 * Component CSS styles for the ISU theme
 *
 * Styles are built from a mobile-first strategy with base styles default for
 * mobile and then Bootstrap 4 media queries to tweak styles for larger
 * devices.
 *
 * 01 SITE NAVBAR
 *    - ISU WORDMARK
 *    - SEARCH
 *    - SITE LINKS MENU
 * 02 ISU MENU NAVBAR
 * 03 PAGE
 *    - Submitted by
 *    - Pagination
 * 04 NODE
 * 05 BLOCKS
 * 06 VIEWS
 *    - ISU list view
 *    - Summary unformatted
 * 07 FIELDS
 *    - Tags
 * 08 COMPONENTS
 *    - Links
 *    - Unsaved changes alerts
 * 09 COMMENTS
 * 10 FORMS
 *    - Checkboxes
 *    - Radios
 *    - Date
 *    - Text fields with text format filter
 *    - File or file upload
 *    - Submit buttons
 * 11 SEARCH RESULTS
 * 12 FOOTER
 *    - Associates menu
 *    - Social media menu
 *    - Legal menu
 * 13 BOOK
 * 14 FORUM
 * 15 CONTENT
 *
 */

/* --------------------------------------  */
/* ## SITE NAVBAR
/* --------------------------------------  */
/*
 * Red ISU Header. Markup found in site-navbar.html.twig 
 */

.isu-site-navbar {
  padding: 0;
  background-color: #cc0000;
  border-bottom: 9px solid #f1be48;
}

.isu-row-site-navbar {
  align-items: center;
}

.isu-col-header-first {
  flex: 1 0 0;
  text-align: center;
}

.isu-col-header-second {
  width: 100%;
  padding: 0;
}

/* --- ## Menu Navbar Toggle --- */

.isu-menu-navbar_toggler {
  width: auto;
  padding: 0.75rem 1rem;
  text-align: center;
  border: 0;
  border-radius: 0;
}

.isu-menu-navbar_toggler-icon {
  display: block;
  width: auto;
  /* Borrowed from Bootstrap 4 */
  background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255, 255, 255, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E");
}

.isu-menu-navbar_toggler-label {
  display: block;
  color: #fff;
  font-size: 0.75rem;
  text-transform: uppercase;
  font-weight: 700;
}

.isu-menu-navbar_wrap {
  width: 100%;
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-site-navbar { 
    padding: 1rem 0; 
  }
  .isu-menu-navbar_toggler { 
    display: none; 
  }
  .isu-col-header-first { 
    text-align: left; 
  }
  .isu-region_header-second {
    padding: 0;
  }
  .isu-col-header-second {
    padding: 0 15px; /* Back to Bootstrap 4 default */
  }
}

/* --- ## ISU WORDMARK --- */
/* The combination of the ISU Logo and the site name.
 * Markup found in block--iastate-branding.html.twig
 * Change sitename in Drupal theme settings.
 */
.isu-wordmark {
  color: #ffffff;
  text-decoration: none;
}
  .isu-wordmark:hover {
    color: #ffffff;
    text-decoration: none;
  }
  .isu-wordmark:focus {
    color: #ffffff;
  }
.isu-wordmark-logo {
  height: 1.85rem;
  width: 100%;
  max-width: 250px;
}
.isu-wordmark-sitename {
  font-size: 1rem;
  font-weight: 500;
  color: #ffffff;
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-wordmark-logo { 
    width: auto;
    max-width: 100%;
    margin-bottom: 0.5rem; 
  }
  .isu-wordmark-sitename {
    font-size: 1.15rem;
  }
}

/* --- ## SEARCH --- */
/* There are two search bars in this theme, one in the Site Navbar, the other
 * on the Search page itself. They are both generated by the same templates
 * so they must be styled differently via nested CSS.
 */

.isu-search > form {
  display: flex;
  justify-content: flex-end;
}

.isu-search__search-field.form-control { /* .form-control from Bootstrap 4 */
  height: 2.5rem;
  width: 100%;
  border-radius: 0.25rem 0 0 0.25rem;
}

.isu-search__search-btn,
.search-page-form #edit-submit {
  height: 2.5rem;
  font-size: 1.15rem;
  line-height: 0;
  border-radius: 0 0.25rem 0.25rem 0;
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-search {
    margin-top: 0;
  }

  .isu-search__search-field.form-control { /* .form-control via Bootstrap 4 */
    width: 400px;
  }
}

/* Specific to Site Navbar search */

.isu-search {
  padding: 1rem;
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-search {
    margin-top: 1rem;
    padding: 0;
  }
}

.isu-search_toggler {
  display: block;
  padding: 1rem;
  text-align: center;
}

.isu-search_toggler-icon.fa { /* .fa via Font Awesome */
  display: block;
  margin-bottom: 3px;
  color: #ffffff;
  font-size: 1.25rem;
}

.isu-search_toggler-label {
  display: block;
  color: #fff;
  font-size: 0.75rem;
  text-transform: uppercase;
  font-weight: 700;
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-search_toggler {
    display: none;
  }
}

.isu-site-navbar .isu-form-group {
  width: 100%;
  margin-bottom: 0;
}

.isu-site-navbar .isu-search__search-field {
  border: 0;
  border-radius: 0.25rem;
}

.isu-site-navbar .isu-search__search-btn {
  display: none;
  width: 2.5rem;
  padding: 0;
  color: #777;
  background-color: #fff;
}

.isu-site-navbar .isu-search__search-btn-text {
  /* Bootstrap 4 .sr-only */
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0,0,0,0);
  border: 0;
}

/* Large */
@media screen and (min-width: 992px) {

  .isu-site-navbar .form-group {
    width: auto;
  }
  .isu-site-navbar .isu-search__search-field  {
    border-radius: 0.25rem 0 0 0.25rem;
  }
  .isu-site-navbar .isu-search__search-btn {
    display: inline-block;
  }
}

/* Toggle the search on mobile */

.isu-search_collapse {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: all 500ms ease;
}

.isu-search_collapse.isu-search_show {
  max-height: 6rem;
  opacity: 1;
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-search_collapse { 
    max-height: 6rem; 
    opacity: 1;
  }
}

/* Specific to search page search */
/* .search-page-form generated by Drupal */

.search-page-form {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-end;
}

.search-page-form .form-wrapper.container-inline {
  display: inline-flex;
  align-items: flex-end;
  margin-bottom: 1rem;
  margin-right: 1rem;
}

.search-page-form .form-wrapper.container-inline label {
  display: inline-block;
}

.search-page-form .form-wrapper.container-inline .form-group {
  margin-bottom: 0;
}

.search-page-form .isu-search__search-btn,
.search-page-form #edit-submit {
  margin-left: -3px;
  border: 1px solid #d8d8d8;
}

.search-page-form #edit-submit {
  font-size: 1rem;
}

.search-help-link {
  display: inline-block;
  margin-bottom: 1rem;
}

.search-page-form .search-advanced {
  width: 100%;
}

/* Specific to the Advanced Search */

.search-advanced .isu-search__search-btn {
    height: auto;
    margin-left: 0;
    margin-bottom: 1rem;
    margin-top: 1rem;
}

/* --- ## SITE LINKS MENU --- */
/* Markup found in menu--site-links.html.twig 
 * Show/hide/rearrange menu in Drupal 8 Structure > Menus.
 */

.isu-sitelinks {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 1rem;
  text-align: right;
}

.isu-sitelinks_collapse {
  max-height: 0;
  padding-bottom: 3px; /* Make room for :focus outline */
  padding-right: 3px; /* Make room for :focus outline */
  overflow: hidden;
  transition: max-height 500ms ease;
}

.isu-sitelinks_collapse.isu-sitelinks_show {
  max-height: 100vh;
}

.isu-sitelinks-link {
  margin-left: 0.5rem;
  color: #ffffff;
}
  .isu-sitelinks-link:hover,
  .isu-sitelinks-link:focus {
    color: #ffffff;
    background: rgba(0, 0, 0, 0.25);
  }

/* Large */
@media screen and (min-width: 992px) {
  .isu-sitelinks { margin-top: 0.5rem; margin-bottom: 0; }
  .isu-sitelinks_collapse { max-height: 100vh; }
}

/* --------------------------------------  */
/* ## ISU MENU NAVBAR
/* --------------------------------------  */

.isu-menu-navbar {
  padding: 0;
  background: #eeeeee;
}

.isu-menu-navbar_collapse {
  max-height: 0;
  overflow: hidden;
  transition: max-height 500ms ease;
}

.isu-menu-navbar_collapse.isu-menu-navbar_show {
  max-height: 100vh;
}

.isu-nav-link.nav-link { 
 /* .nav-link via Bootstrap 4.
  * Present for specificity
  */
  padding-right: 1em;
  padding-left: 1em;
  color: #333;
}
  .isu-nav-link:hover {
    color: #333;
    background: #d8d8d8;
  }

.show .isu-nav-link { /* .show via Bootstrap 4 */
  color: #333;
  background: #d8d8d8;
}

/* So this is an inelegant stick, but Bootstrap 4 isn't adding show
  * to the dropdown-menu, so it's not opening. Thus: selector. */
.dropdown.show > .dropdown-menu {
  display: block;
}

/* Override of Bootstrap 4 dropdown-menu, recreated here
 * to re-style mobile dropdown */
.isu-dropdown-menu {
  margin: 0;
  padding: 0;
  border: 0;
  border-radius: 0;
  background: #e5e5e5;
}

@media screen and (min-width: 576px) {

}

.isu-dropdown-item {
  padding: 0;
}
  .isu-dropdown-item:focus,
  .isu-dropdown-item:hover,
  .isu-dropdown-item.active,
  .isu-dropdown-item:active  {
    background-color:transparent;
  }

.isu-dropdown-item a {
  display: block;
  padding: 0.75rem 1rem;
  color: #333;
  text-decoration: none;
}

  .isu-dropdown-item a:focus,
  .isu-dropdown-item a:hover,
  .isu-dropdown-item a.active,
  .isu-dropdown-item a:active {
    background: #dedede;
  }


@media screen and (max-width: 575px) {
  .isu-menu-navbar {
    display: block;
  }
}

/* Large */
@media screen and (min-width: 992px) {
  .isu-menu-navbar_collapse {
    max-height: 100vh;
    overflow: visible;
  }
}

/* --------------------------------------  */
/* ## PAGE
/* --------------------------------------  */

.isu-page-column {
  margin-top: 2rem;
  margin-bottom: 2rem;
}

.isu-page-title {
  margin-bottom: 2rem;
}

/* --- ## Submitted By --- */
/* Also found in Comments */

.isu-submitted-by_card .card-header { /* .card-header via Bootstrap 4 */
  padding: 0.5rem;
}

/* If there is a user picture */

.isu-user ~ div > .isu-submitted-by_name,
.isu-user ~ div > .isu-submitted-by_date {
  display: block;
}

.isu-user ~ div > .isu-submitted-by_date {
  font-size: 0.85rem;
}

/* --- ## PAGINAION --- */

.isu-pagination {
  padding-top: 1rem;
}

.isu-page-link {
  height: 100%;
  color: #222529;
  text-decoration: none;
}

/* --------------------------------------  */
/* ## NODE
/* --------------------------------------  */
/*
 * The most basic unit of content which appears all over. 
 */

article:not(.isu-user) {
  margin-bottom: 2rem;
}

.isu-node-title {
  margin-bottom: 1rem;
}

/* --------------------------------------  */
/* ## BLOCKS
/* --------------------------------------  */

.isu-sidebar .isu-block {
  margin-bottom: 1rem;
}

.isu-block-title {
  margin-bottom: 1rem;
}

/* --------------------------------------  */
/* ## VIEWS
/* --------------------------------------  */
/*
 * ISU Theme specific View styling 
 */

/* --- ## ISU List View --- */
/* Add the .isu-list-view class to Advanced > CSS class to refine a view 
 * that uses an HTML List Format 
 */

.isu-list-view header {
  margin-bottom: 2rem;
}

.isu-list-view ul {
  margin-top: 1rem;
}

.isu-list-view-item {
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid #d8d8d8;
}

.isu-list-view-item .views-field-title h3 {
  font-size: 1.15rem;
}

.isu-list-view-item .views-field-created {
  font-size: 0.875rem;
}

.isu-list-view-item .views-field-created:not(:last-child) {
  margin-bottom: 0.5rem;
}

.isu-list-view-item .fa {
  color: #777;
}

/* --- ## Summary Unformatted --- */
/* As seen in Glossary */

.isu-unformatted-summary_row {
  display: inline-block;
  margin-bottom: 1rem;
}

.isu-row-separator {
  display: none;
}

.isu-row-count-badge {
  position: relative;
  top: -1.15rem;
  left: -0.75rem;
  margin-right: -0.75rem;
}

/* --------------------------------------  */
/* ## FIELDS
/* --------------------------------------  */

/* --- ## Tags --- */
.views-field-field-tags {
  margin-top: 1rem;
}

/* --------------------------------------  */
/* ## COMPONENTS
/* --------------------------------------  */

/* --- ## Links --- */
/* Not, like, regular links, but the buttons that do stuff
 * generated by Drupal 8
 */

.isu-links {
  margin-top: 1rem;
  margin-bottom: 0;
}

.isu-links .comment-forbidden { /* .comment-forbidden via Drupal 8 */
  margin-top: 1rem;
}

.isu-links.contextual-links li { /* .contextual-links via Drupal 8 */
  display: block;
}

/* --- ## Unsaved changes alerts --- */
/* Commonly found when re-ordering multiple inputs */
/* Mimics Bootstrap 4 .alert.alert-warning */

.tabledrag-changed-warning { /* Class via Drupal 8 */
  padding: 0.75rem 1.25rem;
  margin-bottom: 1rem;
  border: 1px solid transparent;
  border-radius: 0.25rem;

  color: #856404;
  background-color: #fff3cd;
  border-color: #ffeeba;
}

abbr[title].tabledrag-changed { /* Class via Drupal 8 */
  padding: 0.25rem;
  border: 1px solid transparent;
  border-radius: .25rem;

  color: #856404;
  background-color: #fff3cd;
  border-color: #ffeeba;

  display: inline-block;
  width: 25px;
  height: 25px;
  text-align: center;
  text-decoration: none;
}

/* --------------------------------------  */
/* ## COMMENTS
/* --------------------------------------  */

.isu-comments-section {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #d8d8d8;
}

.isu-comments_title {
  margin-bottom: 1rem;
}

.isu-comment .card-header { /* .card-header via Bootstrap 4 */
  padding: 0.5rem;
}

.isu-comment_title {
  font-size: 1.15rem;
}

.isu-comment_submitted {
  font-size: 0.85rem;
}

.indented { 
  /* .indented via Drupal 8. Used to nest comments and forum boards. */
  margin-left: 4rem;
}

.field--name-comment-body .isu-form-group {
  /* .field--name-comment-body via Drupal 8 */
  margin-bottom: 0;
}

/* --------------------------------------  */
/* ## FORMS
/* --------------------------------------  */

.form-required:after { /* .form-required from Drupal 8 */
  content: '*';
  margin-left: 0.25rem;
  color: #cc0000;
}

details {
  margin-bottom: 1rem;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  border: 1px solid #d8d8d8;
}

.isu-form-control {
  width: auto;
  max-width: 100%;
}

.isu-form-control.error { /* .error via Drupal 8 */
  border: 1px solid #cc0000;
}

.isu-form-element-description {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #666666;
}

.isu-fieldset {
  margin: 0.5rem 0 1rem;
  padding: 1rem;
  border-radius: 0.25rem;
  border: 1px solid #d8d8d8;
}

.isu-fieldset .isu-fieldset {
  margin: 0;
  padding: 0;
  border-radius: 0;
  border: 0;
}

.isu-legend {
  display: inline-block;
  width: auto;
  padding: 0 0.5rem;
  font-size: 1rem;
  font-weight: 700;
}

.isu-fieldset .isu-fieldset .isu-legend {
  padding: 0;
}

/* --- ## Checkboxes --- */

.isu-form-type_checkbox.isu-form-group {
  margin-bottom: 0;
}

/* --- ## Radios --- */

.isu-form-type_radio.isu-form-group {
  margin-bottom: 0;
}

/* --- ## Date --- */

.isu-form-type_date {
  display: inline-block;
  margin-right: 1rem;
}

.isu-form-control_date {
  width: auto;
}

/* --- ## Text fields with text format filter --- */
/* .js-text-format-wrapper and .filter-wrapper via Drupal 8 */

.js-text-format-wrapper .isu-form-group { margin-bottom: 0; }

.js-text-format-wrapper .isu-form-control { width: 100%; }

.filter-wrapper { margin-bottom: 1.5rem; }

/* --- File or image upload --- */

.isu-form-type_managed-file {
  /* Like .isu-fieldset */
  margin: 0.5rem 0 1rem;
  padding: 1rem;
  border-radius: 0.25rem;
  border: 1px solid #d8d8d8;
}

/* --- ## Submit Buttons --- */

.isu-search__search-btn,
.isu-add-another-item-button,
.isu-remove-button { margin-top: 0; }

/* --------------------------------------  */
/* ## SEARCH RESULTS
/* --------------------------------------  */
/* For search fields, see the Search section under Site Navbar above */

.isu-search-results {
  margin-top: 2rem;
}

/* --------------------------------------  */
/* ## FOOTER
/* --------------------------------------  */

.isu-footer {
  padding: 2rem 0;
  color: #686868;
  background: #f3f3f3;
}

.isu-footer-logo {
  max-width: 180px;
}

/* --- ## ASSOCIATES MENU --- */
/* Template in templates/navigation/menu--associates-menu.html.twig
 */

.isu-associates-menu {
  list-style-type: none;
  margin-top: 1rem;
  padding: 0;
}

.isu-associates-menu a {
  display: block;
  padding: 0.25rem 0;
  line-height: 1.25;
  text-decoration: none;
}

/* --- ## SOCIAL MEDIA MENU --- */
/* Icon styles found in isu-social.css
 * Template in templates/navigation/menu--social.html.twig
 */

.isu-social-menu {
  list-style-type: none;
  padding: 0;
}

.isu-social-menu a {
  display: inline-block;
  color: #686868;
  text-decoration: none;
}

/* --- ## LEGAL MENU --- */
/* Template in templates/navigation/menu--legal-menu.html.twig
 */

.isu-legal-menu {
  list-style-type: none;
  padding: 0;
}

.isu-legal-menu a {
  display: block;
  padding: 0.25rem 0;
  line-height: 1.25;
  text-decoration: none;
}

/* --------------------------------------  */
/* ## BOOK
/* --------------------------------------  */

.isu-book-tree-title,
.isu-book-navigation-title { /* Sized with Bootstrap 4 class .h5 */
  margin-bottom: 1rem;
}

/* --------------------------------------  */
/* ## FORUM
/* --------------------------------------  */

.isu-forum_indented {
  margin-left: 2rem;
}

/* Small and below */
@media screen and (max-width: 576px) {
  .isu-forum {
    overflow-x: scroll 
  }

  .isu-forum-table {
    font-size: 0.9rem;
  }

  .isu-forum-table th,
  .isu-forum-table td {
    padding: 0.25rem;
  }

  .isu-forum_last-reply {
    min-width: 5rem;
  }
}

/* --------------------------------------  */
/* ## CONTENT
/* --------------------------------------  */

/* --- Figures and Captions --- */

.isu-body figure {
  display: table;
}

.isu-body figure img {
  max-width: 100%;
  display: block;
  margin: 0;
}

.isu-body figure figcaption {
  display: table-caption;
  caption-side: bottom;

  /* Caption styles */
  padding: 0.5rem;
  color: #333;
  font-size: 0.9rem;
  background: #eee;
}

